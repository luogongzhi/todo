var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,d=(e,t)=>{for(var a in t||(t={}))i.call(t,a)&&n(e,a,t[a]);if(s)for(var a of s(t))l.call(t,a)&&n(e,a,t[a]);return e},o=(e,s)=>t(e,a(s));import{o as u,c as r,w as c,a as p,u as f,D as k,N as h,S as m,b as v,t as _,d as y,e as T,p as b,f as w,g,r as x,h as O,i as I,j,B as D,k as E,l as L,m as S,n as U,F as C,q as F,s as N,v as P,x as z,y as J,z as A,A as q,C as B,E as G,G as H,H as M,I as K,J as Q}from"./vendor.30f2ed3a.js";const R=v("完成"),V=v("删除"),W={props:{taskIndex:Number,task:Object},emits:["delete","finished","edit"],setup(e,{emit:t}){const a=e=>{const{activeIndex:a}=e;0===a?(t("finished"),setTimeout((()=>{e.destroy()}),1)):2===a&&(t("delete"),setTimeout((()=>{e.destroy()}),1))},s=e=>{t("edit")};return(t,i)=>(u(),r(f(T),{class:"task-item-wrapper"},{prefix:c((()=>[p(f(h),{size:"16"},{default:c((()=>[p(f(k))])),_:1})])),default:c((()=>[p(f(y),{"initial-slide":1,"slides-per-view":1,"resistance-ratio":0,speed:200,onTransitionEnd:a},{default:c((()=>[p(f(m),{class:"complete-slide"},{default:c((()=>[R])),_:1}),p(f(m),{class:"content-slide",onClick:s},{default:c((()=>[v(_(e.task.content),1)])),_:1}),p(f(m),{class:"delete-slide"},{default:c((()=>[V])),_:1})])),_:1})])),_:1}))}};const X=F();b("data-v-744ddb22");const Y=v(" 请添加待办任务 "),Z={class:"extra"},$=v(" 添加 "),ee=p("div",null,"添加任务",-1),te=v("添加"),ae=p("div",null,"任务详情",-1),se=v("修改");w();const ie={setup(e){const t=N();let a=g((()=>t.state.list));const s={id:"",content:""};let i=x(!1),l=x(s.content),n=x(!1),c=x(""),k=x(0),h=d({},s);const m=()=>{t.commit("addTask",o(d({},s),{id:P(),content:l.value})),i.value=!1,l.value=""},v=()=>{let e=o(d({},h),{content:c.value});t.commit("updateTask",{idx:k.value,task:e}),n.value=!1};return(e,s)=>(u(),r(C,null,[p(f(L),{vertical:""},{default:X((()=>[f(a).length?(u(),r(f(O),{key:0},{default:X((()=>[p(f(I),{list:f(a),onStart:s[1]||(s[1]=t=>e.drag=!0),onEnd:s[2]||(s[2]=t=>e.drag=!1),"item-key":"id"},{item:X((({index:e,element:a})=>[p(W,{taskIndex:e,task:a,key:a.id,onDelete:()=>(e=>{t.commit("deleteTask",e)})(e),onFinished:()=>(e=>{t.commit("finishedTask",e)})(e),onEdit:()=>((e,t)=>{h=t,n.value=!0,k.value=e,c.value=t.content})(e,a)},null,8,["taskIndex","task","onDelete","onFinished","onEdit"])])),_:1},8,["list"])])),_:1})):(u(),r(f(j),{key:1},{default:X((()=>[Y])),_:1})),p("div",Z,[p(f(D),{onClick:s[3]||(s[3]=e=>E(i)?i.value=!0:i=!0)},{default:X((()=>[$])),_:1})])])),_:1}),p(f(U),{show:f(i),"onUpdate:show":s[5]||(s[5]=e=>E(i)?i.value=e:i=e),preset:"dialog",title:"Dialog","show-icon":!1},{header:X((()=>[ee])),action:X((()=>[p(f(D),{onClick:m},{default:X((()=>[te])),_:1})])),default:X((()=>[p("div",null,[p(f(S),{value:f(l),"onUpdate:value":s[4]||(s[4]=e=>E(l)?l.value=e:l=e),type:"input",placeholder:"请填写任务信息..."},null,8,["value"])])])),_:1},8,["show"]),p(f(U),{show:f(n),"onUpdate:show":s[7]||(s[7]=e=>E(n)?n.value=e:n=e),preset:"dialog",title:"Dialog","show-icon":!1},{header:X((()=>[ae])),action:X((()=>[p(f(D),{onClick:v},{default:X((()=>[se])),_:1})])),default:X((()=>[p("div",null,[p(f(S),{value:f(c),"onUpdate:value":s[6]||(s[6]=e=>E(c)?c.value=e:c=e),type:"input",placeholder:"请填写任务信息..."},null,8,["value"])])])),_:1},8,["show"])],64))},__scopeId:"data-v-744ddb22"};const le=v("未完成"),ne=v("未完成"),de={props:{task:Object,taskIndex:Number},emits:["unfinishedTask"],setup(e,{emit:t}){const a=e=>{const{activeIndex:a}=e;0!==a&&2!==a||t("unfinishedTask")};return(t,s)=>(u(),r(f(T),{class:"task-item-wrapper"},{prefix:c((()=>[p(f(h),{size:"16"},{default:c((()=>[p(f(k))])),_:1})])),default:c((()=>[p(f(y),{"initial-slide":1,"slides-per-view":1,"resistance-ratio":0,speed:200,onTransitionEnd:a},{default:c((()=>[p(f(m),{class:"back-slide1"},{default:c((()=>[le])),_:1}),p(f(m),null,{default:c((()=>[v(_(e.task.content),1)])),_:1}),p(f(m),{class:"back-slide"},{default:c((()=>[ne])),_:1})])),_:1})])),_:1}))}};const oe=v("Archive List"),ue=v(" 还没有任务被完成 "),re={setup(e){const t=N();let a=g((()=>t.state.finishedList));return(e,s)=>(u(),r(C,null,[p(f(z),null,{default:c((()=>[oe])),_:1}),p(f(L),{vertical:""},{default:c((()=>[f(a).length?(u(),r(f(O),{key:0},{default:c((()=>[p(f(I),{list:f(a),onStart:s[1]||(s[1]=t=>e.drag=!0),onEnd:s[2]||(s[2]=t=>e.drag=!1),"item-key":"id"},{item:c((({index:e,element:a})=>[p(de,{key:a.id,taskIndex:e,task:a,onUnfinishedTask:()=>(e=>{t.commit("unfinishedTask",e)})(e)},null,8,["taskIndex","task","onUnfinishedTask"])])),_:1},8,["list"])])),_:1})):(u(),r(f(j),{key:1},{default:c((()=>[ue])),_:1}))])),_:1})],64))}};var ce=J({history:A(),routes:[{path:"/",name:"main",component:ie},{path:"/archive",name:"archive",component:re},{path:"/:pathMatch(.*)",redirect:"/"}]});const pe=q({state:()=>({list:[],finishedList:[]}),mutations:{addTask(e,t){e.list.unshift(t)},updateTask(e,t){e.list[t.idx]=t.task},updateTasks(e,t){e.list=t},updateFinishTasks(e,t){console.log(t),e.finishedList=t},deleteTask(e,t){e.list.splice(t,1)},finishedTask(e,t){e.finishedList.unshift(e.list[t]),e.list.splice(t,1)},unfinishedTask(e,t){e.list.unshift(e.finishedList[t]),e.finishedList.splice(t,1)}}});const fe=F();b("data-v-39fc13ca");const ke={id:"app"},he=p("h1",null,"mini TO-DO",-1),me={class:"extra"},ve=v(" 首页 "),_e=v(" 归档 ");w();const ye={setup(e){const t=N();return B((()=>{let e=localStorage.getItem("myData");e&&(e=JSON.parse(e),t.commit("updateTasks",e[0]),t.commit("updateFinishTasks",e[1]))})),window.onbeforeunload=()=>{let e=[t.state.list,t.state.finishedList];localStorage.setItem("myData",JSON.stringify(e))},(e,t)=>{const a=K("router-link"),s=K("router-view");return u(),r("div",ke,[p(f(M),null,{default:fe((()=>[p(f(G),null,{default:fe((()=>[he,p("div",me,[p(f(D),null,{default:fe((()=>[p(a,{to:"/"},{default:fe((()=>[ve])),_:1})])),_:1}),p(f(D),null,{default:fe((()=>[p(a,{to:"archive"},{default:fe((()=>[_e])),_:1})])),_:1})])])),_:1}),p(f(H),null,{default:fe((()=>[p(s)])),_:1})])),_:1})])}},__scopeId:"data-v-39fc13ca"};Q(ye).use(ce).use(pe).mount("#app");
